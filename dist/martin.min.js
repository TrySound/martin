!function(e,t){function i(e,i){var r,o,l=this;if(i=i||{},"string"==typeof e&&(e=t.querySelector(e)),e instanceof Node){l.slider=e,l.slides=s.call(e.querySelectorAll("."+d+"-slide"),0),l._cbs={set:[],slide:[],slidePrev:[],slideNext:[]},e.classList.add(d+"-slideshow"),o=e.querySelector("."+d+"-slide."+d+"-active"),l.setTo(o?l.slides.indexOf(o):0);for(r in n)n.hasOwnProperty(r)&&n[r].call(l,i);return l}throw Error("Martin: unexpected selector or element")}function r(e,t){var i,r,s=this._cbs[e],n=!0;for(i=0,r=s.length;r>i;i+=1)s[i].call(this,t)===!1&&(n=!1);return n}var s=Array.prototype.slice,n={},d="martin";i.prototype={setTo:function(e){var t=this,i=t.slides[t.index],s=t.slides[e];s&&r.call(t,"set",{index:e})&&(s=s.classList,i&&(i=i.classList,i.add(d+"-ditr"),i.remove(d+"-active")),s.add(d+"-ditr"),s.add(d+"-active"),t.slider.offsetHeight,i&&i.remove(d+"-ditr"),s.remove(d+"-ditr"),t.index=e)},slideTo:function(e,t){var i,s,n=this,o=n.index,l=n.slides.length;return l>0&&l>e&&e!==o&&(void 0===t&&(t=e>o),r.call(n,"slide",{index:e,dir:t})!==!1)?(i=n.slides[o].classList,s=n.slides[e].classList,i.add(d+"-ditr"),s.add(d+"-ditr"),i.remove(d+"-to-prev"),i.remove(d+"-to-next"),s.remove(d+"-from-prev"),s.remove(d+"-from-next"),i.add(d+(t?"-from-prev":"-from-next")),s.add(d+(t?"-to-next":"-to-prev")),n.slider.offsetHeight,i.remove(d+"-ditr"),s.remove(d+"-ditr"),i.remove(d+"-active"),s.add(d+"-active"),n.index=e,!0):!1},slidePrev:function(){var e=this,t=e.index-1;0>t&&(t=e.slides.length-1),r.call(e,"slidePrev",{index:t})&&e.slideTo(t,!1)},slideNext:function(){var e=this,t=e.index+1;t>e.slides.length-1&&(t=0),r.call(e,"slideNext",{index:t})&&e.slideTo(t,!0)},on:function(e,t){var i=this._cbs[e];i&&i.push(t)},attr:function(e){var t;return e&&"string"==typeof e?(t=this.slider.getAttribute("data-"+d+"-"+e),""===t||null===t?void 0:"true"===t?!0:"false"===t?!1:isNaN(t)?t:Number(t)):void 0},listen:function(e,t,i){var r=this.slider;"function"==typeof t&&(i=t,t=e,e=!1),e&&(r=r.querySelector(e)),r&&r.addEventListener(t,i)}},i.hook=function(e,t){e&&"string"==typeof e&&"function"==typeof t&&(n[e]=t)},e.Martin=i,t.addEventListener("DOMContentLoaded",function(){s.call(t.querySelectorAll("."+d+"-slideshow"),0).forEach(function(e){new i(e)})})}(window,document),Martin.hook("controls",function(e){var t=this,i=(t.slider,t.attr("prev")||e.prev||".martin-prev"),r=t.attr("next")||e.next||".martin-next";t.listen(i,"click",function(){t.slidePrev()}),t.listen(r,"click",function(){t.slideNext()})});